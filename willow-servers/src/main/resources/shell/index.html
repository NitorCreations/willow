<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="term.js"></script>
    <script type="text/javascript">
    window.addEventListener('load', function() {
		var loc = window.location, ws_uri;
		if (loc.protocol === "https:") {
			ws_uri = "wss:";
		} else {
			ws_uri = "ws:";
		}
		ws_uri += "//" + loc.host + "/rawterminal/" + loc.search;
  	    var socket = new WebSocket(ws_uri);
        socket.onopen = function() {
    	    var term = new Terminal({
    	      cols: 80,
    	      rows: 24,
    	      screenKeys: true
    	    });
    	    term.on('data', function(data) {
    	      socket.send(data);
    	    });
    	    term.on('title', function(title) {
    	      document.title = title;
    	    });
    	    term.open(document.body);
    	    socket.onmessage = function(event) {
    	      term.write(event.data);
    	    };
    	    socket.onclose = function() {
    	      term.destroy();
    	    };
      };
    }, false);
    </script>
    <style type="text/css">
	body {
	  font-family: "Lucida Console", Monaco, monospace
	}
    </style>
  </head>
  <body>
  </body>
</html>